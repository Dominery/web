# 数据类型

在TypeScript中，我们可以使用类型注解来明确标识类型。类型注解是可选的，编译器在大部分情况下都能够自动推断出表达式的类型。

> 类型注解的语法由一个冒号“:”和某种具体类型“Type”组成。

## 类型检查

类型检查是验证程序中类型约束是否正确的过程。类型检查既可以在程序编译时进行，即静态类型检查；也可以在程序运行时进行，即动态类型检查。

TypeScript提供了两种静态类型检查模式：非严格类型检查（默认方式）和严格类型检查。

* 非严格类型检查

  在该模式下，类型检查的规则相对宽松。

* 严格类型检查

  启用严格类型检查模式能够最大限度地利用TypeScript静态类型检查带来的益处。

  可以在工程的tsconfig.json配置文件中启用“--strict”编译选项。

## 原始类型

原始类型有boolean、number、string、void、null、undifined、bigint、symbol、枚举类型、字面量类型。

boolean、number、string表现形式与JavaScript中的对应类型相同。

### void

void用于没有返回值函数的返回值类型定义。除了将void类型作为函数返回值类型外，在其他地方使用void类型是无意义的。

当启用了`--strictNullChecks`编译选项时，undifined值可以赋值给void类型，如果没有启用，undefined和null都可以赋值给void类型。

### Nullable

TypeScript中的Nullable类型指的是值可以为undefined或null的类型。

如果tsconfig.json中`stricNullChecks`设为false，null和undifined可以赋值给任意类型。否则，null只能赋值null、any、unknown类型，undifined只能赋值给void、undifined、any、unknown类型。

### bigint

bigint能够表示任意大的整数。bigint不能使用Math对象中的方法，bigint支持 `+`、`-`、`*`、`/`、`**`、`%` 符号进行运算，也可以和Number进行比较。

bigint的定义方式：

1. 在一串数字后加n
2. BigInt函数，可以传入一串数字或数字字符串

### symbol

调用symbol函数会创建一个symbol类型的变量，每一个symbol值都是唯一，不相等。symbol函数可以传入字符串，作为对symbol的描述，可以通过`.description`获取该描述。

### 枚举类型

枚举类型由零个或多个枚举成员构成，每个枚举成员都是一个命名的常量。在使用枚举成员时，可以像访问对象属性一样访问枚举成员。枚举类型是一种原始类型，它通过enum关键字来定义。

```typescript
enum Season {
    Spring,
    Summer,
    Fall,
    Winter
}
```

按照枚举成员类型可以将枚举类型划分为三类：

* 数值型枚举
* 字符串枚举
* 异构型枚举

#### 数值型枚举

数值型枚举是默认的枚举类型，是number类型的子类型，它由一组命名的数值常量构成。每个数值型枚举成员都表示一个具体的数字。数值型枚举类型与number类型可以互相赋值。

如果在定义枚举时没有设置枚举成员的值，那么TypeScript将自动计算枚举成员的值。

在定义数值型枚举时，可以为一个或多个枚举成员设置初始值。对于未指定初始值的枚举成员，其值为前一个枚举成员的值加1。

对于数值型枚举，不但可以通过枚举成员名来获取枚举成员值，也可以反过来通过枚举成员值去获取枚举成员名。

#### 字符串枚举

字符串枚举成员必须使用字符串字面量或另一个字符串枚举成员来初始化。字符串枚举是string类型的子类型，因此允许将字符串枚举类型赋值给string类型，但不允许将string类型赋值给字符串枚举类型。

#### 异构型枚举

TypeScript允许在一个枚举中同时定义数值型枚举成员和字符串枚举成员，我们将这种类型的枚举称作异构型枚举。

在定义异构型枚举时，不允许使用计算的值作为枚举成员的初始值。

在异构型枚举中，必须为紧跟在字符串枚举成员之后的数值型枚举成员指定一个初始值。

## 对象类型

对象类型包括object、Array、any、tuple

### object

object表示对象类型，所有对象类型都是object的子类型，都可以赋值给object类型的变量。

### Array

数组类型有两种声明方式：

1. `let arr:number[]`
2. `let arr:Array<number>`

如果数组不声明内部元素类型，则该数组可以放任意类型元素。

### any

任意类型的值都可以赋值给any类型的变量，any类型的变量表现和js中的变量相同。

### tuple

元组可以存储不同类型的元素，这些元素必须与规定的元素类型顺序对应。

* 元组可以越界添加元素，但不可以越界访问。
* 元组内元素类型后有`?`表示该元素类型对应的元素可以不存在
* 数组的剩余参数可以定义为元素类型

