# 原型

任何函数都有prototype属性，prototype是原型的意思。

prototype属性值是个对象，它默认拥有constructor属性指回函数

普通函数来说的prototype属性没有任何用处，而构造函数的prototype属性有用

构造函数的prototype属性是它的实例的原型

![](../../../images/prototype.jpg)

## 原型继承

JavaScript使用原型模式来搭建整个面向对象系统的。原型编程有如下规则：

* 所有的数据都是对象
* 要得到一个对象，不是通过实例化类，而是找到一个对象作为原型并克隆它
* 对象会记住它的原型
* 如果对象无法响应某个请求，它会把这个请求委托给它自己的原型。

**所有的数据都是对象**

JavaScript在设计的时候，模仿Java引入了两套类型机制：基本类型和对象类型。在JavaScript中绝大部分数据都是对象，这些对象都克隆自一个根对象，Object.prototype。

**要得到一个对象，不是通过实例化类，而是找到一个对象作为原型并克隆它**

使用new运算符会从构造函数的prototype上克隆一个对象。

### 原型链

原型链查找

JavaScript规定:实例可以打点访问它的原型的属性和方法，这被称为“原型链查找”

原型链遮蔽效应

如果被构造函数创建的对象本身有与和原型相同属性或方法，则调用时不会进行原型链查找。

属性检查

* hasOwnProperty方法可以检查对象是否真正“自己拥有”某属性或者方法

* in运算符只能检查对象的某个属性或方法是否可以被访问。

#### 在prototype上添加方法

把方法直接添加到实例身上的缺点:每个实例和每个实例的方法函数都是内存中不同的函数，造成了内存的浪费，将方法添加到prototype上每个实例的方法都是同一个，节省了内存。

#### 原型链的终点

Object.prototype是所有原型链的终点。

#### 继承

继承描述了两个类之间的“is a kind of”关系

实现继承的关键在于:子类必须拥有父类的全部属性和方法，同时子类还应该能定义自己特有的属性和方法。

使用Javascript特有的原型链特性来实现继承，是普遍的做法

![](../../../images/inherit.jpg)