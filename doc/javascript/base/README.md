# 基础

### JavaScript使用

#### &lt;script>元素

向HTML页面中插入JavaScript的主要方法，就是使用&lt;script>元素。所有script元素都会按照它们在页面中出现的先后顺序依次被解析。

script元素有6个属性：

| 属性     | 说明                                                         |
| -------- | ------------------------------------------------------------ |
| async    | 表示应该立即下载脚本，但不应妨碍页面中的其他操作，比如下载其他资源或等待加载其他脚本。只对外部脚本文件有效。 |
| charset  | 表示通过src属性指定的代码的字符集。                          |
| defer    | 表示脚本可以延迟到文档完全被解析和显示之后再执行。只对外部脚本文件有效。 |
| language | 已废弃。原来用于表示编写代码使用的脚本语言                   |
| src      | 表示包含要执行代码的外部文件。                               |
| type     | 表示编写代码使用的脚本语言的内容类型（也称为MIME类型）。     |

> 大多数浏览器会忽略charset的值，因此这个属性很少有人用。
>
> type属性不是必需，如果没有指定这个属性，则其默认值仍为text/javascript。

#### 使用方式

使用script元素的方式有两种：直接在页面中嵌入JavaScript代码和包含外部JavaScript文件。

浏览器解析嵌入式JavaScript代码和解析外部JavaScript文件（包括下载该文件）时，页面的处理会暂时停止。

1. 在&lt;body>中&lt;script>标签，在内部书写JavaScript代码

   > 嵌入JavaScript代码时，不要在代码中出现"&lt;/script>"字符串，浏览器会将其解析成结束标签，可以写成"&lt;/script>"来解决。

2. 将代码单独保存为.js格式文件，然后在HTML文件中使用&lt;script src="">&lt;/script>这样的形式引入它。

   外部文件既可以是与包含它的页面位于同一个服务器上的文件，也可以是其他任何域中的文件。

   > 带有src属性的&lt;script>元素不应该在其标签之间再包含额外的JavaScript代码。如果包含了嵌入的代码，则只会下载并执行外部脚本文件，嵌入的代码会被忽略。

#### 标签的位置

为了避免浏览器解析js代码时页面呈现延迟，现代Web应用程序一般都把全部JavaScript引用放在&lt;body>元素中页面内容的后面

**defer**

在&lt;script>元素中设置defer属性，表明脚本在执行时不会影响页面的构造，相当于告诉浏览器立即下载，但延迟执行。

HTML5规范要求延迟脚本按照它们出现的先后顺序执行，在现实当中，延迟脚本并不一定会按照顺序执行，也不一定会在DOMContentLoaded事件触发前执行，因此最好只包含一个延迟脚本。

**async**

async只适用于外部脚本文件，并告诉浏览器立即下载文件。但与defer不同的是，标记为async的脚本并不保证按照指定它们的先后顺序执行。

#### &lt;noscript>元素

noscript元素，用以在不支持JavaScript的浏览器中显示替代的内容。这个元素可以包含能够出现在文档body中的任何HTML元素——script元素除外。

内容只有在下列情况下才会显示出来：

1. 浏览器不支持脚本；
2. 浏览器支持脚本，但脚本被禁用。

### 语句

ECMAScript中的语句以一个分号结尾；如果省略分号，则由解析器确定语句的结尾。推荐每个语句后书写分号。

可以使用花括号将多条语句组合到一个代码块中。

#### 输出语句

1. alert()弹出警告框，会阻止程序继续运行
2. console.log()控制台输出

### 严格模式

ECMAScript 5引入了严格模式（strict mode）的概念。严格模式是为JavaScript定义了一种不同的解析与执行模型。在严格模式下，ECMAScript 3中的一些不确定的行为将得到处理，而且对某些不安全的操作也会抛出错误。

在整个脚本中启用严格模式，可以在顶部添加如下代码：

```javascript
"use strict";
```

该语句是一个编译指示，用于告诉支持的JavaScript引擎切换到严格模式。在函数内部的上方包含这条编译指示，也可以指定函数在严格模式下执行。

#### 严格模式与非严格模式区别

以下是严格模式与非严格模式之间的常见区别：

1. 将过失错误转成异常

   在非严格模式中，如果一个变量没有声明就赋值，默认是全局变量，不会出现报错。

   严格模式禁止这种用法，添加"use strict"开启严格模式后，会出现报错。

2. this指向undefined

   在非严格模式中，全局作用域中的函数内部this默认指向window

   在严格模式中，全局作用域中的函数内部this默认指向undefined

3. 不允许变量重名

   非严格模式下，允许重复变量命名

   严格模式下，不允许重复变量重名

