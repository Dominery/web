# 函数

函数就是语句的封装，可以让这些代码方便地被复用

和变量类似，函数必须先定义然后才能使用

使用function关键字定义函数，function是“功能”的意思

定义方式：

1. 函数名
2. 函数表达式

### 函数声明提升

JavaScript中通过函数名定义的函数可以先使用后声明，函数表达式的函数名应用变量提升规则。

如果变量与函数名相同，则函数优先提升，变量声明提升不能覆盖函数。

### 函数的参数

参数是函数内的一些待定值，在调用函数时,必须传入这些参数的具体值

函数的参数可多可少，函数可以没有参数,也可以有多个参数，多个参数之间需要用逗号隔开

圆括号内定义形式参数，调用时传入实际参数。

#### 形实参个数不同

JavaScript中函数调用实参个数可以不需要与形参相同。

实参个数少于形参个数，则剩余的形参值默认为undefined

函数内arguments表示它接收到的实参列表，它是一个类数组对象

### 函数返回值

调用一个有返回值的函数，可以被当做一个普通值，从而可以出现在任何可以书写值的地方

调用函数时，一旦遇见return语句则会立即退出函数，将执行权交还给调用者

### 作用域链

先来认识函数的嵌套:一个函数内部也可以定义一个函数。和局部变量类似，定义在一个函数内部的函数是局部函数。

在函数嵌套中，变量会从内到外逐层寻找它的定义。

### 闭包

在JavaScript中，每次创建函数时都会创建闭包。闭包是函数本身和该函数声明时所处的环境状态的组合。即使函数不在其定义的环境中被调用，也能访问定义时所处环境的变量。

闭包它允许将数据与操作该数据的函数关联起来。这与“面向对象编程”有少许相似之处。

闭包的用途

1. 记忆性
2. 模拟私有变量

闭包的注意点

不能滥用闭包，否则会造成网页的性能问题，严重时可能导致内存泄露。所谓内存泄漏是指程序中己动态分配的内存由于某种原因未释放或无法释放。

### IIFE

lIFE (lmmediately Invoked Function Expression，立即调用函数表达式)是一种特殊的JavaScript函数写法，一旦被定义，就立即被调用。

函数必须转为函数表达式才能被调用，可以通过括号、加号、减号等方式转换。

```javascript
(function(){
    statments;
})();
```

作用

1. 为变量赋值

2. 将全局变量变为局部变量

   ```javascript
   var arr = [];
   for(var i=0;i<5;i++){
       (function(i){
           arr.push(function(){
               console.log(i);
           });
       })(i);
   }
   ```

   